---
- name: Ensure i3 Window Manager is installed
  community.general.pacman:
    name: i3
  become: true

- name: Ensure that the i3 config dir exists
  file:
    path: "{{ ansible_env.HOME }}/.config/i3"
    state: directory

- name: Set i3config default so it doesn't need to be generated by the i3 config wizard
  template:
    src: i3config.j2
    dest: "{{ ansible_env.HOME }}/.config/i3/config"
  notify:
#  - reload i3

- name: Ensure xinitrc includes exec i3
  ansible.builtin.blockinfile:
    path: "{{ ansible_env.HOME }}/.xinitrc"
    block: "exec i3"
    marker: "# {mark} ANSIBLE MANAGED BLOCK FOR exec"
    insertafter: EOF

