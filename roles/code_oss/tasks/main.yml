---
- name: Ensure 'Code - OSS' is installed (Open Source build of code_oss)
  pacman:
    name: code
    state: latest
  become: true

- name: Enable code_oss marketplace in Code OSS
  community.general.pacman:
    name: code-marketplace
    executable: yay

- name: Unblock features in Code OSS
  community.general.pacman:
    name: code-features
    executable: yay

- name: Manage code_oss extensions if list of extension is defined
  include_tasks: extensions.yml
  
- name: Manage code_oss user settings.json
  include_tasks: configuration.yml
